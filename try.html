<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lazyload Image Viewer</title>

<style>
    img.preview {
        max-width: 100%;
        margin-bottom: 20px;
        border: 1px solid #ccc;
        padding: 4px;
    }
</style>
</head>
<body>

<h2>Extracted Images</h2>
<div id="result"></div>

<script>
(async () => {
    const url = 'https://hongkongbusiness.hk/awards'; // <-- put your URL here
    const container = document.getElementById('result');

    try {
        const response = await fetch(url, { method: 'GET', mode: 'cors' });
        const html = await response.text();

        // Parse HTML
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');

        // Select ONLY lazyload images with data-srcset
        const images = doc.querySelectorAll(
            'img.lazyload[loading="lazy"][data-srcset]'
        );

        if (images.length === 0) {
            container.textContent = 'No matching images found';
            return;
        }

        images.forEach(img => {
            // data-srcset usually looks like: "URL 1920w"
            const srcset = img.getAttribute('data-srcset');
            const imageUrl = srcset.split(' ')[0];

            const newImg = document.createElement('img');
            newImg.src = imageUrl;
            newImg.className = 'preview';

            container.appendChild(newImg);
        });

    } catch (error) {
        container.textContent = 'Error: ' + error;
    }
})();
</script>

</body>
</html>
